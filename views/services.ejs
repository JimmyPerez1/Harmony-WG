<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head.ejs', {
        pageTitle: 'Services | Harmony Wellness Group, Tampa FL',
        pageDescription: 'Auto accident & personal injury care, vitamin serums, physical & DOT exams, workers’ comp, lab tests, weight loss, and intra-articular injections in Tampa.'
  }) %>
<body class=" flex flex-col min-h-screen antialiased">
  <%- include('./partials/nav.ejs', { navVariant: 'solid' }) %>

  <main class="flex-grow bg-gradient-to-b from-teal-50 via-white to-green-100">
    <section class="max-w-6xl mx-auto px-6 pt-6 pb-8">
  <h1 class="text-3xl md:text-4xl font-bold mb-2 text-gray-900"><%= t('services.title') %></h1>
  <p class="text-gray-700 mb-8"><%= t('services.intro') %></p>

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">

    <!-- Auto Accident -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.auto.title') %>"
      data-desc="<%= t('pages.services.auto.desc') || t('services.auto.blurb') %>"
      data-image="/images/autocard.JPG">
      <img src="/icons/autoicon.png" alt="<%= t('services.auto.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.auto.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.auto.blurb') %></p>
      </div>
    </button>

    <!-- Personal Injury -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.injury.title') %>"
      data-desc="<%= t('services.injury.blurb') %>"
      data-image="/images/injurycard.JPG">
      <img src="/icons/injuryicon.png" alt="<%= t('services.injury.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.injury.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.injury.blurb') %></p>
      </div>
    </button>

    <!-- Vitamin Serums -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.serums.title') %>"
      data-desc="<%= t('services.serums.blurb') %>"
      data-image="/images/serumcard.JPG">
      <img src="/icons/serumsicon.png" alt="<%= t('services.serums.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.serums.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.serums.blurb') %></p>
      </div>
    </button>

    <!-- Physical Exams -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.exams.title') %>"
      data-desc="<%= t('services.exams.blurb') %>"
      data-image="/images/examcard.JPG">
      <img src="/icons/examsicon.png" alt="<%= t('services.exams.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.exams.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.exams.blurb') %></p>
      </div>
    </button>

    <!-- Work Compensation -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.wcomp.title') %>"
      data-desc="<%= t('services.wcomp.blurb') %>"
      data-image="/images/wcompcard.JPG">
      <img src="/icons/wcompicon.png" alt="<%= t('services.wcomp.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.wcomp.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.wcomp.blurb') %></p>
      </div>
    </button>

    <!-- DOT Exams -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.dot.title') %>"
      data-desc="<%= t('services.dot.blurb') %>"
      data-image="/images/dotcard.JPG">
      <img src="/icons/doticon.png" alt="<%= t('services.dot.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.dot.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.dot.blurb') %></p>
      </div>
    </button>

    <!-- Medical Laboratory Test -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.lab.title') %>"
      data-desc="<%= t('services.lab.blurb') %>"
      data-image="/images/labcard.JPG">
      <img src="/icons/labicon.png" alt="<%= t('services.lab.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.lab.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.lab.blurb') %></p>
      </div>
    </button>

    <!-- Weight Loss -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.weight.title') %>"
      data-desc="<%= t('services.weight.blurb') %>"
      data-image="/images/wlosscard.JPG">
      <img src="/icons/wlossicon.png" alt="<%= t('services.weight.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.weight.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.weight.blurb') %></p>
      </div>
    </button>

    <!-- Intra-articular Injection -->
    <button
      class="service-card group p-6 rounded-2xl shadow bg-white text-left hover:shadow-lg transition flex items-center gap-5 min-h-[120px]"
      data-title="<%= t('services.inj.title') %>"
      data-desc="<%= t('services.inj.blurb') %>"
      data-image="/images/injcard.JPG">
      <img src="/icons/injicon.png" alt="<%= t('services.inj.title') %> icon" class="icon">
      <div>
        <h2 class="text-lg font-semibold mb-1 text-gray-900 group-hover:text-teal-700"><%= t('services.inj.title') %></h2>
        <p class="text-sm text-gray-600 leading-snug"><%= t('services.inj.blurb') %></p>
      </div>
    </button>

  </div>

  <div class="mt-10">
    <a href="/request-appointment" class="inline-block px-5 py-3 bg-teal-700 hover:bg-teal-600 text-white rounded-xl transition">
      <%= t('services.request') %>
    </a>
  </div>
</section>
  </main>

  
  <%- include('./partials/footer.ejs') %>

<script>
(function () {
  function openServicePopup(opts) {
    // 1) Open a centered popup
    var w = 560, h = 640;
    var dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : screen.left;
    var dualScreenTop  = window.screenTop  !== undefined ? window.screenTop  : screen.top;
    var width  = window.innerWidth  || document.documentElement.clientWidth  || screen.width;
    var height = window.innerHeight || document.documentElement.clientHeight || screen.height;
    var left = ((width - w) / 2) + dualScreenLeft;
    var top  = ((height - h) / 2) + dualScreenTop;

    var features = [
      'scrollbars=yes','resizable=yes','status=no','toolbar=no','menubar=no',
      'width='+w,'height='+h,'top='+Math.max(0,top),'left='+Math.max(0,left)
    ].join(',');

    var win = window.open('', 'harmonyServiceInfo', features);
    if (!win) {
      alert('Please allow pop-ups for this site to view service details.');
      return;
    }

    // 2) Simple HTML content (NO <script> tag inside this string!)
    var title = (opts.title || 'Service').replace(/</g,'&lt;');
    var desc  = (opts.desc  || '').replace(/</g,'&lt;');
    var img   = opts.image || '';
    var alt   = opts.alt   || (title + ' image');

    var html = `
      <!doctype html>
      <html lang="en">
      <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>${title} | Harmony Wellness Group</title>
        <style>
          :root { color-scheme: light; }
          body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; background:#f7faf9; color:#111827; }
          .wrap { max-width: 680px; margin:0 auto; padding:16px; }
          .card { background:#fff; border-radius:16px; box-shadow: 0 8px 24px rgba(0,0,0,.08); overflow:hidden; }
          .img { width:100%; height:240px; object-fit:cover; background:#f0f2f3; display:block; }
          .content { padding:16px 16px 20px; }
          h1 { font-size:20px; font-weight:700; margin:0 0 8px; }
          p { margin:0 0 12px; line-height:1.55; color:#374151; }
          .row { display:flex; gap:8px; margin-top:12px; }
          .btn { appearance:none; cursor:pointer; border-radius:12px; padding:10px 14px; font-weight:600; border:1px solid transparent; text-decoration:none; display:inline-block; }
          .primary { background:#0f766e; color:#fff; }
          .primary:hover { background:#115e59; }
          .ghost { background:#fff; color:#111827; border-color:#e5e7eb; }
          .ghost:hover { background:#f9fafb; }
          header { padding:10px 16px; display:flex; justify-content:space-between; align-items:center; }
          .close { border:none; background:transparent; font-size:20px; line-height:1; cursor:pointer; color:#6b7280; }
          .close:hover { color:#111827; }
        </style>
      </head>
      <body>
        <div class="wrap">
          <header>
            <strong>Harmony Wellness Group</strong>
            <button class="close" aria-label="Close" onclick="window.close()">×</button>
          </header>
          <div class="card">
            ${img ? `<img class="img" src="${img}" alt="${alt}"/>` : ''}
            <div class="content">
              <h1>${title}</h1>
              <p>${desc}</p>
              <div class="row">
                <a class="btn primary" href="/request-appointment" target="_blank" rel="noopener">Request Appointment</a>
                <button class="btn ghost" onclick="window.close()">Close</button>
              </div>
            </div>
          </div>
        </div>
      </body>
      </html>`;

    // 3) Write and focus
    win.document.open();
    win.document.write(html);
    win.document.close();
    win.focus();

    // Accessibility (no <script> tag inside popup): attach from opener
    try {
      win.addEventListener('keydown', function(e){ if (e.key === 'Escape') win.close(); });
    } catch(_) {}
  }

  // Delegate clicks for all service buttons
  document.addEventListener('click', function (e) {
    var btn = e.target.closest('button[data-title]');
    if (!btn) return;

    var data = {
      title: btn.dataset.title || btn.getAttribute('data-title'),
      desc:  btn.dataset.desc  || btn.getAttribute('data-desc'),
      image: btn.dataset.image || btn.getAttribute('data-image'),
      alt:   (btn.querySelector('img') && btn.querySelector('img').alt) || ''
    };
    openServicePopup(data);
  });
})();
</script>
</body>
</html>
<%- include('../partials/header.ejs') %>

<div class="max-w-4xl mx-auto p-6 bg-white rounded-lg shadow">
  <h1 class="text-3xl font-bold mb-4"><%= project.title %></h1>

  <% if (project.image) { %>
    <img src="<%= project.image %>" alt="<%= project.title %> screenshot" class="mb-4 rounded" />
  <% } %>

  <p class="mb-2 text-gray-700"><strong>Description:</strong> <%= project.description %></p>
  
  <% if (project.technologies.length) { %>
    <p class="mb-2 text-gray-700"><strong>Technologies:</strong> <%= project.technologies.join(', ') %></p>
  <% } %>

  <% if (project.tags.length) { %>
    <p class="mb-2 text-gray-700"><strong>Tags:</strong> <%= project.tags.join(', ') %></p>
  <% } %>

  <p class="mb-2 text-gray-700"><strong>Team Project:</strong> <%= project.teamProject ? 'Yes' : 'No' %></p>

  <% if (project.githubLink) { %>
    <p class="mb-2">
      <a href="<%= project.githubLink %>" class="text-blue-500 underline" target="_blank">View on GitHub</a>
    </p>
  <% } %>

  <% if (project.liveLink) { %>
    <p>
      <a href="<%= project.liveLink %>" class="text-green-600 underline" target="_blank">Live Demo</a>
    </p>
  <% } %>

  <p class="mt-4 text-sm text-gray-500">Created by <%= project.createdBy.email %></p>
    <% if (user && user._id.toString() === project.createdBy._id.toString()) { %>
    <div class="mt-6 flex gap-4">
      <a href="/projects/<%= project._id %>/edit" 
         class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded">
        Edit
      </a>

      <form action="/projects/<%= project._id %>?_method=DELETE" method="POST">
        <button type="submit"
                class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"
                onclick="return confirm('Are you sure you want to delete this project?');">
          Delete
        </button>
      </form>
    </div>
  <% } %>
</div>

<%- include('../partials/footer.ejs') %>